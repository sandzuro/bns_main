// EdgeCommons for Edge Animate v1.1.2 +++ Visit edgecommons.org for documentation, updates and examples +++ Copyright (c) 2013 by Simon Widjaja +++ Distributed under the terms of the MIT license (http://www.opensource.org/licenses/mit-license.html) +++ This notice shall be included in all copies or substantial portions of the Software.

!function(a,b){var c=function(){};c.VERSION="0.0.2",c.$=b,a.Modulog=c}(window,jQuery),function(a){var b=function(){};b.VERSION="0.0.2",b.LEVEL_NONE=0,b.LEVEL_ERROR=1,b.LEVEL_WARN=2,b.LEVEL_INFO=3,b.LEVEL_DEBUG=4,b.level=b.LEVEL_DEBUG;var c=(a.$,null);b.addLogTarget=function(a){"function"==typeof a&&(c=a)},b.debug=function(a,b,c){if(ModulogLog.level>=ModulogLog.LEVEL_DEBUG){var d="[ DEBUG "+(b?"| "+b+" ":"")+"] "+a;"undefined"!=typeof console&&"undefined"!=typeof console.debug?c?console.debug(d,c):console.debug(d):"undefined"!=typeof console&&"undefined"!=typeof console.info&&(c?console.info(d,c):console.info(d)),ModulogLog.__delegate(d,c)}},b.info=function(a,b,c){if(ModulogLog.level>=ModulogLog.LEVEL_INFO){var d="[ INFO "+(b?"| "+b+" ":"")+"] "+a;"undefined"!=typeof console&&"undefined"!=typeof console.info&&(c?console.info(d,c):console.info(d)),ModulogLog.__delegate(d,c)}},b.warn=function(a,b,c){if(ModulogLog.level>=ModulogLog.LEVEL_WARN){var d="[ WARN "+(b?"| "+b+" ":"")+"] "+a;"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(c?console.warn(d,c):console.warn(d)),ModulogLog.__delegate(d,c)}},b.error=function(a,b,c){if(ModulogLog.level>=ModulogLog.LEVEL_ERROR){var d="[ ERROR "+(b?"| "+b+" ":"")+"] "+a;"undefined"!=typeof console&&"undefined"!=typeof console.error&&(c?console.error(d,c):console.error(d)),ModulogLog.__delegate(d,c)}},b.__delegate=function(a,b){c&&(b?c(a+" : "+b.toString()):c(a))},window.Log=window.MLog=window.ModulogLog=b}(window.Modulog),function(a){var b=function(){};b.VERSION="0.0.1";var c=a.$,d=null,e=ModulogLog,f="Modulog | ModulogConfig";b.get=function(a){for(var b=a.split("."),c=d,e=0;e<b.length;e++){var f=b[e];c.hasOwnProperty(f)||ModulogLog.warn("Config value not found: "+a,"CONFIG"),c=c[f]}return c},b.set=function(a,b){for(var c=a.split("."),e=d,f=0;f<c.length-1;f++)e=e[c[f]];e[c.pop()]=b},b.init=function(a,b){"string"==typeof a&&jQuery?c.getJSON(a,function(a){d=a,"function"==typeof b&&b()}):"object"==typeof a?d=a:e.error("Could not init config. init() function expects config object or url to config.js. Latter needs jQuery to be initialized before.",f)},window.Config=window.MConfig=window.ModulogConfig=b}(window.Modulog),function(a,b){var c=function(){};c.VERSION="1.1.2",c.$=b;a.EC=a.EdgeCommons=c}(window,jQuery),function(a){var b=function(){};b.VERSION="1.1.0";var c=a.$,d=ModulogLog,e="EdgeCommons | Core",f=null,g=null,h=null,i=null;a.getSymbolName=function(a,b){var c=a.getVariable("symbolSelector");if(!b){var d=a.getParentSymbol();d&&(c=c.replace(d.getVariable("symbolSelector")+"_",""))}return c=c.replace("#","")},a.getInjectedData=function(a,b){try{for(b=b||"data",a&&a.getParentSymbol||d.error("getInjectedData(): First argument 'sys' is not optional",e);a.getParentSymbol();)a=a.getParentSymbol();var f=a.getSymbolElement().find("."+b).html(),g=c.parseJSON(f);return g}catch(h){d.error("Reading injected data failed (scriptClassSelector="+b+")",e,h)}},a.setAdaptiveLayouts=function(b,g,h,j){return b&&b.length?(f=b,g&&("function"==typeof j&&(i=j),c(window).resize(function(){a.applyAdaptiveLayout(g,h)}),a.applyAdaptiveLayout(g,h)),void 0):(d.error("Error in setAdaptiveLayouts(). Argument 'layouts' is not optional and has to be an array.",e),void 0)},a.applyAdaptiveLayout=function(a,b){try{a.setVariable("doResizing",function(){var d=a.getComposition().getStage(),e=d.getSymbolElement().width(),j=a.$(b),k=0,l=null;if(c.each(f,function(a,b){e>=b-k&&(l=b)}),g!=l){h&&h.deleteSymbol(),j.html("");var m=a.createChildSymbol("layout"+l,b);g=l,h=m,"function"==typeof i&&i(l,m)}a.$("currentLayout").html(a.getVariable("layout"))});var d=a.getVariable("doResizing");d()}catch(e){console.error(e)}},a.centerStage=function(a){return a?(a.getComposition().getStage().getSymbolElement().css("margin","0px auto"),void 0):(d.error("Error in centerStage(). Argument 'sym' is not optional.",e),void 0)},a.loadComposition=function(b,c){if(!b||!c)return d.error("Error in loadComposition(). Arguments 'src' and 'sym' are not optional.",e),void 0;try{var f;f=c instanceof AdobeEdge.Symbol?c.getSymbolElement():c;var g="ec_"+Math.random().toString(36).substring(7);f.html('<iframe id="'+g+'" src="'+b+'" style="overflow: hidden; width: 100%; height: 100%; margin: auto; border: 0 none; background-color: rgba(255,255,255,0)"></iframe>');var h=new jQuery.Deferred,i=jQuery("#"+g),j=i[0].contentWindow;i.load(function(){j.AdobeEdge.bootstrapCallback(function(a){var b=j.AdobeEdge.getComposition(a);h.resolve(b,g,j.AdobeEdge)})})}catch(k){a.error("Error in loadComposition: ",e,k.toString())}return h},a.makeStaticButton=function(b,c,d,e){var f=b.$("hotspot"),g=f[0]?f:b.getSymbolElement();c&&b.$("label").html(c),d&&b.$("icon").css("background-image","url("+d+")"),g.css("cursor","pointer"),a.isMobile()||(g.on("mouseenter",function(){b.stop("over")}),g.on("mouseleave",function(){b.stop("normal")}),g.on("mousedown",function(){b.stop("down")}),g.on("mouseup",function(){b.stop("over")})),g.on(a.CLICK_OR_TOUCH,function(){"function"==typeof e&&e()})},a.makeAnimatedButton=function(b,c,d,e){var f=b.$("hotspot"),g=f[0]?f:b.getSymbolElement();c&&b.$("label").html(c),d&&b.$("icon").css("background-image","url("+d+")"),g.css("cursor","pointer"),a.isMobile()?(b.setVariable("animatedButtonState","inactive"),g.on("touchstart",function(){var a="inactive"!==b.getVariable("animatedButtonState");a?("function"==typeof e&&e(),b.setVariable("animatedButtonState","inactive"),b.playReverse()):(b.play(),b.setVariable("animatedButtonState","active"),setTimeout(function(){b.getPosition()>0&&b.playReverse(),b.setVariable("animatedButtonState","inactive")},2e3))})):(g.on("mouseenter",function(){b.play()}),g.on("mouseleave",function(){b.playReverse()}),g.on("click",function(){"function"==typeof e&&e()}))},a.isMobile=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i)},a.CLICK_OR_TOUCH=a.isMobile()?"touchstart":"click",a.readGetParam=function(a){var b=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return b?decodeURIComponent(b[1]||0):null},a.Core=b,a.Log=d,a.debug=d.debug,a.info=d.info,a.warn=d.warn,a.error=d.error,a.Config=MConfig}(EdgeCommons);